{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lolitascim\\\\bd\\\\bichomania-app\\\\ayuda\\\\src\\\\encuesta\\\\Encuesta.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport * as XLSX from \"xlsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Encuestas() {\n  _s();\n  const [encuestas, setEncuestas] = useState([]);\n  const [mostrarForm, setMostrarForm] = useState(false);\n  const [form, setForm] = useState({\n    fecha_inicio: \"\",\n    fecha_fin: \"\",\n    descripcion: \"\",\n    opciones: [{\n      opcion_equipo: \"\",\n      opcion_liga: \"\",\n      categoria: \"\"\n    }]\n  });\n  const id_empleado = localStorage.getItem(\"id_empleado\");\n  useEffect(() => {\n    if (id_empleado) cargarEncuestas();\n  }, [id_empleado]);\n  const exportarExcelData = (json, nombre) => {\n    if (!json || json.length === 0) {\n      alert(\"No hay datos para exportar\");\n      return;\n    }\n    try {\n      const worksheet = XLSX.utils.json_to_sheet(json);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, nombre);\n      XLSX.writeFile(workbook, `${nombre}.xlsx`);\n    } catch (err) {\n      console.error(\"Error exportando Excel:\", err);\n      alert(\"Error al exportar\");\n    }\n  };\n  const cargarEncuestas = async () => {\n    if (!id_empleado) {\n      setEncuestas([]);\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:3001/encuestas?id_empleado=${id_empleado}`);\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error al obtener encuestas:\", text);\n        return;\n      }\n      const data = await res.json();\n      setEncuestas(data);\n    } catch (err) {\n      console.error(\"Fetch cargarEncuestas error:\", err);\n    }\n  };\n  const obtenerClientes = async () => {\n    try {\n      const res = await fetch(\"http://localhost:3001/clientes\");\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error al obtener clientes:\", text);\n        alert(\"Error al obtener clientes\");\n        return;\n      }\n      const json = await res.json();\n      setEncuestas(json);\n      exportarExcelData(json, \"clientes\");\n    } catch (err) {\n      console.error(\"Fetch obtenerClientes error:\", err);\n      alert(\"Error al obtener clientes\");\n    }\n  };\n  const obtenerActivas = async () => {\n    try {\n      const res = await fetch(\"http://localhost:3001/encuestas-activas\");\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error al obtener encuestas activas:\", text);\n        alert(\"Error al obtener encuestas activas\");\n        return;\n      }\n      const json = await res.json();\n      setEncuestas(json);\n      exportarExcelData(json, \"encuestas_activas\");\n    } catch (err) {\n      console.error(\"Fetch obtenerActivas error:\", err);\n      alert(\"Error al obtener encuestas activas\");\n    }\n  };\n  const actualizarForm = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(f => ({\n      ...f,\n      [name]: value\n    }));\n  };\n  const actualizarOpcion = (index, campo, valor) => {\n    setForm(f => {\n      const nuevas = [...f.opciones];\n      nuevas[index] = {\n        ...nuevas[index],\n        [campo]: valor\n      };\n      return {\n        ...f,\n        opciones: nuevas\n      };\n    });\n  };\n  const agregarOpcion = () => {\n    setForm(f => ({\n      ...f,\n      opciones: [...f.opciones, {\n        opcion_equipo: \"\",\n        opcion_liga: \"\",\n        categoria: \"\"\n      }]\n    }));\n  };\n  const crearEncuesta = async e => {\n    e.preventDefault();\n    if (!form.fecha_inicio || !form.fecha_fin || !form.descripcion) {\n      return alert(\"Completa fecha inicio, fecha fin y descripción\");\n    }\n    if (!form.opciones || form.opciones.length === 0) return alert(\"Agrega al menos una opción\");\n    if (!id_empleado) return alert(\"No hay empleado logueado\");\n    const opcionesValidas = form.opciones.filter(o => o.opcion_equipo && o.opcion_equipo.trim() || o.opcion_liga && o.opcion_liga.trim() || o.categoria && o.categoria.trim());\n    if (opcionesValidas.length === 0) return alert(\"Agrega al menos una opción con texto\");\n    try {\n      console.log(\"Enviando crear_encuesta:\", {\n        ...form,\n        id_empleado\n      });\n      const res = await fetch(\"http://localhost:3001/crear_encuesta\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...form,\n          opciones: opcionesValidas,\n          id_empleado\n        })\n      });\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error crear_encuesta:\", text);\n        return alert(\"Error creando encuesta: \" + text);\n      }\n      const txt = await res.text();\n      alert(txt || \"Encuesta creada correctamente\");\n      setMostrarForm(false);\n      setForm({\n        fecha_inicio: \"\",\n        fecha_fin: \"\",\n        descripcion: \"\",\n        opciones: [{\n          opcion_equipo: \"\",\n          opcion_liga: \"\",\n          categoria: \"\"\n        }]\n      });\n      cargarEncuestas();\n    } catch (err) {\n      console.error(\"Fetch crearEncuesta error:\", err);\n      alert(\"Error al crear encuesta\");\n    }\n  };\n  const eliminarEncuesta = async id => {\n    if (!window.confirm(\"¿Seguro deseas eliminar esta encuesta?\")) return;\n    try {\n      const res = await fetch(`http://localhost:3001/eliminar_encuesta/${id}`, {\n        method: \"DELETE\"\n      });\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error eliminar_encuesta:\", text);\n        return alert(\"Error al eliminar encuesta: \" + text);\n      }\n      const txt = await res.text();\n      alert(txt || \"Encuesta eliminada\");\n      cargarEncuestas();\n    } catch (err) {\n      console.error(\"Fetch eliminarEncuesta error:\", err);\n      alert(\"Error al eliminar encuesta\");\n    }\n  };\n  const cerrarEncuesta = async id => {\n    if (!window.confirm(\"¿Seguro deseas cerrar esta encuesta?\")) return;\n    try {\n      const res = await fetch(`http://localhost:3001/cerrar_encuesta/${id}`, {\n        method: \"PUT\"\n      });\n      if (!res.ok) {\n        const text = await res.text();\n        console.error(\"Error cerrar_encuesta:\", text);\n        return alert(\"Error al cerrar encuesta: \" + text);\n      }\n      const txt = await res.text();\n      alert(txt || \"Encuesta cerrada\");\n      cargarEncuestas();\n    } catch (err) {\n      console.error(\"Fetch cerrarEncuesta error:\", err);\n      alert(\"Error al cerrar encuesta\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Mis Encuestas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMostrarForm(s => !s),\n        children: mostrarForm ? \"Cancelar\" : \"Crear Encuesta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: cargarEncuestas,\n        style: {\n          marginLeft: 8\n        },\n        children: \"Mostrar mis encuestas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: obtenerClientes,\n        style: {\n          marginLeft: 8\n        },\n        children: \"Mostrar clientes (exporta)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: obtenerActivas,\n        style: {\n          marginLeft: 8\n        },\n        children: \"Encuestas activas (exporta)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), mostrarForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: crearEncuesta,\n      style: {\n        border: \"1px solid #ccc\",\n        padding: 12,\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Crear nueva encuesta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Fecha inicio:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"fecha_inicio\",\n            value: form.fecha_inicio,\n            onChange: actualizarForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Fecha fin: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"fecha_fin\",\n            value: form.fecha_fin,\n            onChange: actualizarForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Descripci\\xF3n:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"descripcion\",\n            value: form.descripcion,\n            onChange: actualizarForm,\n            style: {\n              width: \"60%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Opciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), form.opciones.map((op, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 6,\n            border: \"1px solid #eee\",\n            marginBottom: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Equipo\",\n            value: op.opcion_equipo,\n            onChange: e => actualizarOpcion(i, \"opcion_equipo\", e.target.value),\n            style: {\n              marginRight: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Liga\",\n            value: op.opcion_liga,\n            onChange: e => actualizarOpcion(i, \"opcion_liga\", e.target.value),\n            style: {\n              marginRight: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Categor\\xEDa\",\n            value: op.categoria,\n            onChange: e => actualizarOpcion(i, \"categoria\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: agregarOpcion,\n          children: \"+ Agregar opci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Guardar Encuesta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this), encuestas && encuestas.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      cellPadding: \"6\",\n      style: {\n        borderCollapse: \"collapse\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Inicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Fin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Descripci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Acciones\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: encuestas.map(fila => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: fila.id_encuesta\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: fila.fecha_inicio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: fila.fecha_fin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: fila.descripcion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: fila.estado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => eliminarEncuesta(fila.id_encuesta),\n              style: {\n                marginRight: 8\n              },\n              children: \"Eliminar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this), fila.estado === \"Activa\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => cerrarEncuesta(fila.id_encuesta),\n              children: \"Cerrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 17\n          }, this)]\n        }, fila.id_encuesta, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No hay datos para mostrar.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n_s(Encuestas, \"l2UJi666X2ikTjce210/nMo6etE=\");\n_c = Encuestas;\nvar _c;\n$RefreshReg$(_c, \"Encuestas\");","map":{"version":3,"names":["React","useEffect","useState","XLSX","jsxDEV","_jsxDEV","Encuestas","_s","encuestas","setEncuestas","mostrarForm","setMostrarForm","form","setForm","fecha_inicio","fecha_fin","descripcion","opciones","opcion_equipo","opcion_liga","categoria","id_empleado","localStorage","getItem","cargarEncuestas","exportarExcelData","json","nombre","length","alert","worksheet","utils","json_to_sheet","workbook","book_new","book_append_sheet","writeFile","err","console","error","res","fetch","ok","text","data","obtenerClientes","obtenerActivas","actualizarForm","e","name","value","target","f","actualizarOpcion","index","campo","valor","nuevas","agregarOpcion","crearEncuesta","preventDefault","opcionesValidas","filter","o","trim","log","method","headers","body","JSON","stringify","txt","eliminarEncuesta","id","window","confirm","cerrarEncuesta","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","onClick","s","marginLeft","onSubmit","border","type","onChange","width","map","op","i","placeholder","marginRight","marginTop","cellPadding","borderCollapse","fila","id_encuesta","estado","_c","$RefreshReg$"],"sources":["C:/Users/lolitascim/bd/bichomania-app/ayuda/src/encuesta/Encuesta.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nexport default function Encuestas() {\r\n  const [encuestas, setEncuestas] = useState([]);\r\n  const [mostrarForm, setMostrarForm] = useState(false);\r\n  const [form, setForm] = useState({\r\n    fecha_inicio: \"\",\r\n    fecha_fin: \"\",\r\n    descripcion: \"\",\r\n    opciones: [{ opcion_equipo: \"\", opcion_liga: \"\", categoria: \"\" }],\r\n  });\r\n\r\n  const id_empleado = localStorage.getItem(\"id_empleado\");\r\n\r\n  useEffect(() => {\r\n    if (id_empleado) cargarEncuestas();\r\n  }, [id_empleado]);\r\n\r\n\r\n  const exportarExcelData = (json, nombre) => {\r\n    if (!json || json.length === 0) {\r\n      alert(\"No hay datos para exportar\");\r\n      return;\r\n    }\r\n    try {\r\n      const worksheet = XLSX.utils.json_to_sheet(json);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, nombre);\r\n      XLSX.writeFile(workbook, `${nombre}.xlsx`);\r\n    } catch (err) {\r\n      console.error(\"Error exportando Excel:\", err);\r\n      alert(\"Error al exportar\");\r\n    }\r\n  };\r\n\r\n\r\n  const cargarEncuestas = async () => {\r\n    if (!id_empleado) {\r\n      setEncuestas([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:3001/encuestas?id_empleado=${id_empleado}`);\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        console.error(\"Error al obtener encuestas:\", text);\r\n        return;\r\n      }\r\n      const data = await res.json();\r\n      setEncuestas(data);\r\n    } catch (err) {\r\n      console.error(\"Fetch cargarEncuestas error:\", err);\r\n    }\r\n  };\r\n\r\n\r\n  const obtenerClientes = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:3001/clientes\");\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        console.error(\"Error al obtener clientes:\", text);\r\n        alert(\"Error al obtener clientes\");\r\n        return;\r\n      }\r\n      const json = await res.json();\r\n      setEncuestas(json); \r\n      exportarExcelData(json, \"clientes\");\r\n    } catch (err) {\r\n      console.error(\"Fetch obtenerClientes error:\", err);\r\n      alert(\"Error al obtener clientes\");\r\n    }\r\n  };\r\n\r\n\r\n  const obtenerActivas = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:3001/encuestas-activas\");\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        console.error(\"Error al obtener encuestas activas:\", text);\r\n        alert(\"Error al obtener encuestas activas\");\r\n        return;\r\n      }\r\n      const json = await res.json();\r\n      setEncuestas(json);\r\n      exportarExcelData(json, \"encuestas_activas\");\r\n    } catch (err) {\r\n      console.error(\"Fetch obtenerActivas error:\", err);\r\n      alert(\"Error al obtener encuestas activas\");\r\n    }\r\n  };\r\n\r\n\r\n  const actualizarForm = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((f) => ({ ...f, [name]: value }));\r\n  };\r\n\r\n  const actualizarOpcion = (index, campo, valor) => {\r\n    setForm((f) => {\r\n      const nuevas = [...f.opciones];\r\n      nuevas[index] = { ...nuevas[index], [campo]: valor };\r\n      return { ...f, opciones: nuevas };\r\n    });\r\n  };\r\n\r\n  const agregarOpcion = () => {\r\n    setForm((f) => ({ ...f, opciones: [...f.opciones, { opcion_equipo: \"\", opcion_liga: \"\", categoria: \"\" }] }));\r\n  };\r\n\r\n  const crearEncuesta = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!form.fecha_inicio || !form.fecha_fin || !form.descripcion) {\r\n      return alert(\"Completa fecha inicio, fecha fin y descripción\");\r\n    }\r\n    if (!form.opciones || form.opciones.length === 0) return alert(\"Agrega al menos una opción\");\r\n    if (!id_empleado) return alert(\"No hay empleado logueado\");\r\n\r\n    const opcionesValidas = form.opciones.filter(\r\n      (o) => (o.opcion_equipo && o.opcion_equipo.trim()) || (o.opcion_liga && o.opcion_liga.trim()) || (o.categoria && o.categoria.trim())\r\n    );\r\n    if (opcionesValidas.length === 0) return alert(\"Agrega al menos una opción con texto\");\r\n\r\n    try {\r\n      console.log(\"Enviando crear_encuesta:\", { ...form, id_empleado });\r\n      const res = await fetch(\"http://localhost:3001/crear_encuesta\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ ...form, opciones: opcionesValidas, id_empleado }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        console.error(\"Error crear_encuesta:\", text);\r\n        return alert(\"Error creando encuesta: \" + text);\r\n      }\r\n\r\n      const txt = await res.text();\r\n      alert(txt || \"Encuesta creada correctamente\");\r\n      setMostrarForm(false);\r\n      setForm({\r\n        fecha_inicio: \"\",\r\n        fecha_fin: \"\",\r\n        descripcion: \"\",\r\n        opciones: [{ opcion_equipo: \"\", opcion_liga: \"\", categoria: \"\" }],\r\n      });\r\n      cargarEncuestas();\r\n    } catch (err) {\r\n      console.error(\"Fetch crearEncuesta error:\", err);\r\n      alert(\"Error al crear encuesta\");\r\n    }\r\n  };\r\n\r\n\r\n  const eliminarEncuesta = async (id) => {\r\n    if (!window.confirm(\"¿Seguro deseas eliminar esta encuesta?\")) return;\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:3001/eliminar_encuesta/${id}`, { method: \"DELETE\" });\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        console.error(\"Error eliminar_encuesta:\", text);\r\n        return alert(\"Error al eliminar encuesta: \" + text);\r\n      }\r\n      const txt = await res.text();\r\n      alert(txt || \"Encuesta eliminada\");\r\n      cargarEncuestas();\r\n    } catch (err) {\r\n      console.error(\"Fetch eliminarEncuesta error:\", err);\r\n      alert(\"Error al eliminar encuesta\");\r\n    }\r\n  };\r\n\r\n\r\n  const cerrarEncuesta = async (id) => {\r\n    if (!window.confirm(\"¿Seguro deseas cerrar esta encuesta?\")) return;\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:3001/cerrar_encuesta/${id}`, { method: \"PUT\" });\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        console.error(\"Error cerrar_encuesta:\", text);\r\n        return alert(\"Error al cerrar encuesta: \" + text);\r\n      }\r\n      const txt = await res.text();\r\n      alert(txt || \"Encuesta cerrada\");\r\n      cargarEncuestas();\r\n    } catch (err) {\r\n      console.error(\"Fetch cerrarEncuesta error:\", err);\r\n      alert(\"Error al cerrar encuesta\");\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>Mis Encuestas</h2>\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <button onClick={() => setMostrarForm((s) => !s)}>{mostrarForm ? \"Cancelar\" : \"Crear Encuesta\"}</button>\r\n\r\n        <button onClick={cargarEncuestas} style={{ marginLeft: 8 }}>\r\n          Mostrar mis encuestas\r\n        </button>\r\n\r\n        <button onClick={obtenerClientes} style={{ marginLeft: 8 }}>\r\n          Mostrar clientes (exporta)\r\n        </button>\r\n\r\n        <button onClick={obtenerActivas} style={{ marginLeft: 8 }}>\r\n          Encuestas activas (exporta)\r\n        </button>\r\n      </div>\r\n\r\n      {mostrarForm && (\r\n        <form onSubmit={crearEncuesta} style={{ border: \"1px solid #ccc\", padding: 12, marginBottom: 20 }}>\r\n          <h3>Crear nueva encuesta</h3>\r\n\r\n          <div style={{ marginBottom: 8 }}>\r\n            <label>\r\n              Fecha inicio:{\" \"}\r\n              <input type=\"date\" name=\"fecha_inicio\" value={form.fecha_inicio} onChange={actualizarForm} />\r\n            </label>\r\n          </div>\r\n\r\n          <div style={{ marginBottom: 8 }}>\r\n            <label>\r\n              Fecha fin: <input type=\"date\" name=\"fecha_fin\" value={form.fecha_fin} onChange={actualizarForm} />\r\n            </label>\r\n          </div>\r\n\r\n          <div style={{ marginBottom: 8 }}>\r\n            <label>\r\n              Descripción:{\" \"}\r\n              <input type=\"text\" name=\"descripcion\" value={form.descripcion} onChange={actualizarForm} style={{ width: \"60%\" }} />\r\n            </label>\r\n          </div>\r\n\r\n          <div>\r\n            <h4>Opciones</h4>\r\n            {form.opciones.map((op, i) => (\r\n              <div key={i} style={{ padding: 6, border: \"1px solid #eee\", marginBottom: 6 }}>\r\n                <input\r\n                  placeholder=\"Equipo\"\r\n                  value={op.opcion_equipo}\r\n                  onChange={(e) => actualizarOpcion(i, \"opcion_equipo\", e.target.value)}\r\n                  style={{ marginRight: 6 }}\r\n                />\r\n                <input\r\n                  placeholder=\"Liga\"\r\n                  value={op.opcion_liga}\r\n                  onChange={(e) => actualizarOpcion(i, \"opcion_liga\", e.target.value)}\r\n                  style={{ marginRight: 6 }}\r\n                />\r\n                <input\r\n                  placeholder=\"Categoría\"\r\n                  value={op.categoria}\r\n                  onChange={(e) => actualizarOpcion(i, \"categoria\", e.target.value)}\r\n                />\r\n              </div>\r\n            ))}\r\n\r\n            <button type=\"button\" onClick={agregarOpcion}>\r\n              + Agregar opción\r\n            </button>\r\n          </div>\r\n\r\n          <div style={{ marginTop: 10 }}>\r\n            <button type=\"submit\">Guardar Encuesta</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {encuestas && encuestas.length > 0 ? (\r\n        <table border=\"1\" cellPadding=\"6\" style={{ borderCollapse: \"collapse\", width: \"100%\" }}>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Inicio</th>\r\n              <th>Fin</th>\r\n              <th>Descripción</th>\r\n              <th>Estado</th>\r\n              <th>Acciones</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {encuestas.map((fila) => (\r\n              <tr key={fila.id_encuesta}>\r\n                <td>{fila.id_encuesta}</td>\r\n                <td>{fila.fecha_inicio}</td>\r\n                <td>{fila.fecha_fin}</td>\r\n                <td>{fila.descripcion}</td>\r\n                <td>{fila.estado}</td>\r\n                <td>\r\n                  <button onClick={() => eliminarEncuesta(fila.id_encuesta)} style={{ marginRight: 8 }}>\r\n                    Eliminar\r\n                  </button>\r\n\r\n                  {fila.estado === \"Activa\" && (\r\n                    <button onClick={() => cerrarEncuesta(fila.id_encuesta)}>Cerrar</button>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <p>No hay datos para mostrar.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}